---
title: Отправка отклика подрядчиком
sidebar_position: 1
---
# Сценарий отправки отклика подрядчиком

```plantuml

@startuml

actor "Подрядчик" as co
participant "Frontend" as f
participant "Backend" as b
database "БД" as db
actor "Клиент" as cl
== Отправка отклика подрядчиком ==

co -> f : Переход к форме просмотра заказов
activate f
f -> b : Запрос доступных заказов
activate b
b -> f : Возврат списка заказов
deactivate b
f -> co : Отображение доступные заказы
deactivate f
co -> f : Фильтрация заказов
activate f
f -> b : Запрос на фильтрацию заказов
activate b
b -> f : Возврат списка отфильтрованных заказов
deactivate b
f -> co : Отображение отфильтрованных заказов
deactivate f
co -> f : Нажатие кнопки "Выбрать заказ"
activate f
f -> b : Запрос деталей заказа
activate b
b -> f : Возврат деталей заказа
deactivate b
f -> co : Отображение информации о выбранном заказе
deactivate f
co -> f : Заполнение формы отклика (цена, условия, сроки)
activate f
co -> f : Нажатие кнопки "Отправить отклик"
alt Если подрядчик не авторизован
f -> co : Переход на страницу авторизации
alt Если не зарегистрирован
f -> co : Форма регистрации
deactivate b
co -> f : Заполнение формы регистрации
f -> b : Сохранение данных клиента
activate b
b -> db: Сохранить данные в БД
f -> co : Регистрация успешно завершена
deactivate b
end reg
else Если подрядчик авторизован
f -> b : Отправка формы отклика
activate b
b -> b: Проверка корректности отклика
alt Если предложение заполнено некорректно
b -> f : Сообщение об ошибке
f -> co : Уведомление о некорректных полях
else Если предложение заполнено корректно
b -> db: Сохранить данные в БД
b -> cl : Уведомление о новом отклике
b -> f : Подтверждение успешной отправки
deactivate b
f -> co : Уведомление об успешной отправке
end correctness
end
deactivate f

@enduml


```

## Описание алгоритма:

1. **Подрядчик** переходит к форме просмотра заказов.
2. **Frontend** запрашивает список доступных заказов у **Backend**.
3. **Backend** возвращает список заказов, которые затем отображаются в **Frontend**.
4. **Подрядчик** может фильтровать заказы.
5. **Frontend** отправляет запрос на фильтрацию и получает отфильтрованный список заказов.
6. **Подрядчик** выбирает заказ и запрашивает его детали.
7. **Frontend** отображает информацию о выбранном заказе.
8. **Подрядчик** заполняет форму отклика, указывая цену, условия и сроки.
   - Если **Подрядчик** не авторизован:
     - Его перенаправляют на страницу авторизации. 
       - Если он не зарегистрирован, предоставляют ему форму регистрации. После заполнения формы данные о клиенте сохраняются в **Backend** и **Database**.
   - Если **Подрядчик** авторизован, 
     - **Frontend** отправляет отклик в **Backend**. **Backend** проверяет корректность отклика:
       - Если отклик некорректен, то отображается сообщение об ошибке.
       - Если отклик корректен, данные сохраняются в **Database**, и **Клиент** получает уведомление о новом отклике. **Frontend** уведомляет **Подрядчика** об успешной отправке отклика. 

---

### Описание участников диаграммы

| Параметр | Описание                               |
| -------- | -------------------------------------- |
| Подрядчик    | Пользователь, который создает питомца. |
| Build Finder System  | Система, которая обрабатывает запросы. |
| Database   |  База данных, в которой хранятся данные о пользователях. |
